import requests

languages = [
    'javascript',
    'html',
    'css',
    'php',
    'python',
    'ruby',
    'java',
    'c#',
    'c++',
    'c'
]
number_of_repos = {} # language: no. of repos

for language in languages :
    resp = requests.get('https://api.github.com/search/repositories?q=language:' + language)
    data = resp.json()
    
    number_of_repos[language] = data.get('total_count', 'undefined') # add undefined if the key is not found

# print and draw graph of the sorted dictionary
x = 10
locs = []
for language, repos in sorted(number_of_repos.items(), key=lambda x:x[1], reverse=True) :
    print(language,": ", repos)

    plt.bar(x, int(repos), 5, tick_label=language)
    locs.append(x)
    x += 10

plt.xticks(locs, number_of_repos.keys())
plt.show()
